<img id="header" src="shared/resources/Header.png" />
<img id="tabs" src="shared/resources/Tabs.png" />
<div id="modeler">
  <iframe class="embeddedVariant" src="./overlay"></iframe>
</div>
<img id="properties_panel" src="shared/resources/properties_panel.png" />

<select class="version-select" type="select">
  <option value="A">Option A</option>
  <option value="B">Option B</option>
  <option value="C">Option C</option>
</select>

<style>
  iframe {
    border: 0;
    width: calc(100% - 505px);
    height: calc(100% - 100px);
    overflow: hidden;
  }

  #modeler {
    display: inline;
    vertical-align: top;
  }

  body {
    overflow: hidden;
    margin: 0;
  }

  .version-select {
    position: absolute;
    bottom: 20;
    left: 20;
  }

</style>

<script>
  const params = new URLSearchParams(location.search);
  let iframe = document.querySelector('.embeddedVariant');
  let select = document.querySelector('.version-select');
  let selectedOption = params.get('option') || 'A';
  select.value = selectedOption;


  const setVersion = version => {
    switch (version) {
      case 'A':
        iframe.src = './overlay'
        params.set('option', 'A');
        break;
    
      case 'B':
        iframe.src = './plus-button'
        params.set('option', 'B');
        break;

      case 'C':
        iframe.src = './tree'
        params.set('option', 'C');
        break;

      default:
        break;
    }

    window.history.replaceState({}, '', `${location.pathname}?${params.toString()}`);
  }

  setVersion(selectedOption);

  document.querySelector('.version-select').addEventListener('change', function() {
    setVersion(this.value);
  })
</script>